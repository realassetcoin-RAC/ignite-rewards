<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Supabase Client</title>
</head>
<body>
    <h1>Supabase Client Debug</h1>
    <div id="output"></div>
    
    <script type="module">
        const output = document.getElementById('output');
        
        function log(message) {
            console.log(message);
            output.innerHTML += '<p>' + message + '</p>';
        }
        
        log('üîç Starting Supabase client debug...');
        
        // Check environment variables
        log('Environment check:');
        log('- VITE_APP_ENV: ' + (import.meta.env.VITE_APP_ENV || 'undefined'));
        log('- DEV: ' + (import.meta.env.DEV || 'undefined'));
        log('- Hostname: ' + window.location.hostname);
        
        // Test if we can import the client
        try {
            log('üì¶ Attempting to import Supabase client...');
            
            // This will help us see what's happening
            const { supabase, clientInfo } = await import('./src/lib/supabaseClient.ts');
            
            log('‚úÖ Client imported successfully');
            log('Client info: ' + JSON.stringify(clientInfo, null, 2));
            
            // Test auth methods
            log('üß™ Testing auth methods...');
            
            const sessionResult = await supabase.auth.getSession();
            log('getSession result: ' + JSON.stringify(sessionResult, null, 2));
            
            const userResult = await supabase.auth.getUser();
            log('getUser result: ' + JSON.stringify(userResult, null, 2));
            
        } catch (error) {
            log('‚ùå Error: ' + error.message);
            log('Stack: ' + error.stack);
        }
    </script>
</body>
</html>
